--- plaid_link.js.backup	2025-11-14 14:32:37
+++ plaid_link.js	2025-11-14 14:32:37
@@ -16,7 +16,6 @@
         chrome.runtime.sendMessage(message, (response) => {
           if (chrome.runtime.lastError) {
             // Service worker might be asleep, retry
-            console.log(`Attempt ${i + 1}: ${chrome.runtime.lastError.message}`);
             reject(new Error(chrome.runtime.lastError.message));
           } else if (response && response.error) {
             reject(new Error(response.error));
@@ -44,26 +43,22 @@
       throw new Error('Plaid SDK failed to load. Please check your connection.');
     }
 
-    console.log('Plaid SDK loaded successfully');
     statusEl.textContent = 'Opening Plaid Link...';
 
     const handler = Plaid.create({
       token: linkToken,
       onSuccess: async (publicToken, metadata) => {
-        console.log('Plaid Link success:', metadata);
         loaderEl.style.display = 'block';
         statusEl.textContent = 'Connected successfully! Exchanging token...';
 
         try {
           // Send message to extension background with retry
-          console.log('Sending exchange request to service worker...');
           const response = await sendToExtension({
             type: 'EXCHANGE_PUBLIC_TOKEN',
             publicToken: publicToken,
             metadata: metadata
           });
 
-          console.log('Exchange successful:', response);
           showSuccess('Bank connected successfully! Opening popup...');
 
           // Store connection status
@@ -85,19 +80,16 @@
           // Auto-close - service worker will open popup after delay
           window.close();
         } catch (error) {
-          console.error('Exchange error:', error);
           loaderEl.style.display = 'none';
           showError('Failed to exchange token: ' + error.message + '. Please close this tab and try again from the extension popup.');
         }
       },
       onLoad: () => {
-        console.log('Plaid Link iframe loaded');
         statusEl.textContent = 'Plaid Link ready!';
       },
       onExit: (err, metadata) => {
         loaderEl.style.display = 'none';
         if (err) {
-          console.error('Plaid Link error:', err);
           showError(err.display_message || err.error_message || 'Connection failed');
         } else {
           statusEl.textContent = 'Connection cancelled';
@@ -105,14 +97,11 @@
         }
       },
       onEvent: (eventName, metadata) => {
-        console.log('Plaid Link event:', eventName, metadata);
       }
     });
 
-    console.log('Opening Plaid Link modal...');
     handler.open();
   } catch (error) {
-    console.error('Error initializing Plaid:', error);
     showError(error.message);
   }
 }
